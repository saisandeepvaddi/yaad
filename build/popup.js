function uuid(){function o(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()}function clearDone(){chrome.storage.sync.get("yaad",function(o){let e=o.yaad;void 0===e&&(e=[]),console.log("Current: "),console.log(e);let t=[];for(let o=0;o<e.length;o++)e[o].completed||t.push(e[o]);chrome.storage.sync.remove("yaad",function(){chrome.storage.sync.set({yaad:t},function(){console.log("New: "),console.log(t),console.log("Done to-dos deleted"),$(".container").find(".todo-item").remove(),t.forEach(function(o){if(!o.completed){let e=createToDoRow(o);$(".container").append(e)}})})})})}function strikeoutTodo(){$(this).css("text-decoration").split(" ").includes("line-through")?$(this).css("text-decoration","none"):$(this).css("text-decoration","line-through")}function createToDoRow(o){let e=$("<div class='todo-item'></div>"),t=$("<div class='todo-element'><b>&rtrif;</b>&nbsp;&nbsp;<span class='todo-data'>"+o.data+"</span></div>").click(function(){let e=o.id;o.completed=!o.completed,o.completed?$(t).find("span.todo-data").css("text-decoration","line-through"):$(t).find("span.todo-data").css("text-decoration","none"),chrome.storage.sync.get("yaad",function(t){let n=t.yaad,a=-1;for(let o=0;o<n.length;o++)if(n[o].id===e){a=o;break}let c=Object.assign({},o,{completed:o.completed});n.splice(a,1),n.splice(a,0,c),chrome.storage.sync.set({yaad:n},function(){console.log("Todo Status Changed")})})});o.completed?$(t).find("span.todo-data").css("text-decoration","line-through"):$(t).find("span.todo-data").css("text-decoration","none");let n=$('<div class="delete-div"><i class="tiny material-icons red">close</i><div>').click(function(){let e=o.id;$(this).parent().remove(),chrome.storage.sync.get("yaad",function(o){let t=o.yaad,n=-1;for(let o=0;o<t.length;o++)if(t[o].id===e){n=o;break}t.splice(n,1),chrome.storage.sync.set({yaad:t},function(){console.log("Todo Deleted")})})});return e.append(t).append(n),e}$(document).ready(function(){$(".todo-input").focus(),$(".clear-done-button").on("click",clearDone),chrome.storage.sync.get("yaad",function(o){let e=$(".container"),t=o.yaad;void 0===t&&(t=[]),t.forEach(function(o){let t=createToDoRow(o);e.append(t)})}),$(".todo-form").submit(function(o){o.preventDefault();let e=$(".todo-input").val();if(""===e.trim())return;let t={id:uuid(),data:e,completed:!1},n=createToDoRow(t);$(".container").append(n),chrome.storage.sync.get("yaad",function(o){let e=o.yaad;void 0===e&&(e=[]),e.push(t),chrome.storage.sync.set({yaad:e},function(){console.log("Todo saved")})}),$(".todo-input").val("")})});let reload=function(){let o=!1;return function(){o||(location.reload(!0),o=!0)}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwb3B1cC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB1dWlkKCkge1xuICBmdW5jdGlvbiBzNCgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMClcbiAgICAgIC50b1N0cmluZygxNilcbiAgICAgIC5zdWJzdHJpbmcoMSk7XG4gIH1cbiAgcmV0dXJuIChcbiAgICBzNCgpICtcbiAgICBzNCgpICtcbiAgICBcIi1cIiArXG4gICAgczQoKSArXG4gICAgXCItXCIgK1xuICAgIHM0KCkgK1xuICAgIFwiLVwiICtcbiAgICBzNCgpICtcbiAgICBcIi1cIiArXG4gICAgczQoKSArXG4gICAgczQoKSArXG4gICAgczQoKVxuICApO1xufVxuLy8vLy8vLy8vLyA9PT09PT09PT09PT09PT09PT09PT09PT0gU3RhcnQgPT09PT09PT09PT09PT09PT09PT09PS8vLy8vXG5mdW5jdGlvbiBjbGVhckRvbmUoKSB7XG4gIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFwieWFhZFwiLCBmdW5jdGlvbih5YWFkKSB7XG4gICAgbGV0IGFjdGl2ZVRvZG9zID0geWFhZC55YWFkO1xuICAgIGlmIChhY3RpdmVUb2RvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBhY3RpdmVUb2RvcyA9IFtdO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkN1cnJlbnQ6IFwiKTtcbiAgICBjb25zb2xlLmxvZyhhY3RpdmVUb2Rvcyk7XG5cbiAgICBsZXQgbmV3VG9kb3MgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlVG9kb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghYWN0aXZlVG9kb3NbaV0uY29tcGxldGVkKSB7XG4gICAgICAgIC8vIGFjdGl2ZVRvZG9zLnNwbGljZShpLCAxKTtcbiAgICAgICAgbmV3VG9kb3MucHVzaChhY3RpdmVUb2Rvc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5yZW1vdmUoXCJ5YWFkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoeyB5YWFkOiBuZXdUb2RvcyB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJOZXc6IFwiKTtcbiAgICAgICAgY29uc29sZS5sb2cobmV3VG9kb3MpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRvbmUgdG8tZG9zIGRlbGV0ZWRcIik7XG4gICAgICAgICQoXCIuY29udGFpbmVyXCIpXG4gICAgICAgICAgLmZpbmQoXCIudG9kby1pdGVtXCIpXG4gICAgICAgICAgLnJlbW92ZSgpO1xuICAgICAgICBuZXdUb2Rvcy5mb3JFYWNoKGZ1bmN0aW9uKHRvZG8pIHtcbiAgICAgICAgICBpZiAoIXRvZG8uY29tcGxldGVkKSB7XG4gICAgICAgICAgICBsZXQgdG9kb1JvdyA9IGNyZWF0ZVRvRG9Sb3codG9kbyk7XG4gICAgICAgICAgICAkKFwiLmNvbnRhaW5lclwiKS5hcHBlbmQodG9kb1Jvdyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc3RyaWtlb3V0VG9kbygpIHtcbiAgbGV0IGlzTGluZVRob3VnaCA9ICQodGhpcykuY3NzKFwidGV4dC1kZWNvcmF0aW9uXCIpO1xuICBpZiAoaXNMaW5lVGhvdWdoLnNwbGl0KFwiIFwiKS5pbmNsdWRlcyhcImxpbmUtdGhyb3VnaFwiKSkge1xuICAgICQodGhpcykuY3NzKFwidGV4dC1kZWNvcmF0aW9uXCIsIFwibm9uZVwiKTtcbiAgfSBlbHNlIHtcbiAgICAkKHRoaXMpLmNzcyhcInRleHQtZGVjb3JhdGlvblwiLCBcImxpbmUtdGhyb3VnaFwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVUb0RvUm93KHRvZG8pIHtcbiAgbGV0IHRvZG9JdGVtQ29udGFpbmVyID0gJChcIjxkaXYgY2xhc3M9J3RvZG8taXRlbSc+PC9kaXY+XCIpO1xuICBsZXQgaXRlbSA9ICQoXG4gICAgXCI8ZGl2IGNsYXNzPSd0b2RvLWVsZW1lbnQnPlwiICtcbiAgICAgIFwiPGI+JnJ0cmlmOzwvYj4mbmJzcDsmbmJzcDtcIiArXG4gICAgICBcIjxzcGFuIGNsYXNzPSd0b2RvLWRhdGEnPlwiICtcbiAgICAgIHRvZG8uZGF0YSArXG4gICAgICBcIjwvc3Bhbj5cIiArXG4gICAgICBcIjwvZGl2PlwiXG4gICkuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgbGV0IGlkID0gdG9kby5pZDtcbiAgICB0b2RvLmNvbXBsZXRlZCA9ICF0b2RvLmNvbXBsZXRlZDtcbiAgICBpZiAodG9kby5jb21wbGV0ZWQpIHtcbiAgICAgICQoaXRlbSlcbiAgICAgICAgLmZpbmQoXCJzcGFuLnRvZG8tZGF0YVwiKVxuICAgICAgICAuY3NzKFwidGV4dC1kZWNvcmF0aW9uXCIsIFwibGluZS10aHJvdWdoXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKGl0ZW0pXG4gICAgICAgIC5maW5kKFwic3Bhbi50b2RvLWRhdGFcIilcbiAgICAgICAgLmNzcyhcInRleHQtZGVjb3JhdGlvblwiLCBcIm5vbmVcIik7XG4gICAgfVxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFwieWFhZFwiLCBmdW5jdGlvbih5YWFkKSB7XG4gICAgICBsZXQgdG9kb3NCZWZvcmVTdHJpa2UgPSB5YWFkLnlhYWQ7XG4gICAgICBsZXQgaW5kZXggPSAtMTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9kb3NCZWZvcmVTdHJpa2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRvZG9zQmVmb3JlU3RyaWtlW2ldLmlkID09PSBpZCkge1xuICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsZXQgbmV3VG9kbyA9IE9iamVjdC5hc3NpZ24oe30sIHRvZG8sIHtcbiAgICAgICAgY29tcGxldGVkOiB0b2RvLmNvbXBsZXRlZFxuICAgICAgfSk7XG4gICAgICB0b2Rvc0JlZm9yZVN0cmlrZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgdG9kb3NCZWZvcmVTdHJpa2Uuc3BsaWNlKGluZGV4LCAwLCBuZXdUb2RvKTtcbiAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHsgeWFhZDogdG9kb3NCZWZvcmVTdHJpa2UgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVG9kbyBTdGF0dXMgQ2hhbmdlZFwiKTtcbiAgICAgICAgLy8gc2V0VG9kb0NvdW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKHRvZG8uY29tcGxldGVkKSB7XG4gICAgJChpdGVtKVxuICAgICAgLmZpbmQoXCJzcGFuLnRvZG8tZGF0YVwiKVxuICAgICAgLmNzcyhcInRleHQtZGVjb3JhdGlvblwiLCBcImxpbmUtdGhyb3VnaFwiKTtcbiAgfSBlbHNlIHtcbiAgICAkKGl0ZW0pXG4gICAgICAuZmluZChcInNwYW4udG9kby1kYXRhXCIpXG4gICAgICAuY3NzKFwidGV4dC1kZWNvcmF0aW9uXCIsIFwibm9uZVwiKTtcbiAgfVxuXG4gIGxldCBkZWxldGVCdXR0b24gPSAkKFxuICAgICc8ZGl2IGNsYXNzPVwiZGVsZXRlLWRpdlwiPjxpIGNsYXNzPVwidGlueSBtYXRlcmlhbC1pY29ucyByZWRcIj5jbG9zZTwvaT48ZGl2PidcbiAgKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICBsZXQgaWQgPSB0b2RvLmlkO1xuICAgICQodGhpcylcbiAgICAgIC5wYXJlbnQoKVxuICAgICAgLnJlbW92ZSgpO1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFwieWFhZFwiLCBmdW5jdGlvbih5YWFkKSB7XG4gICAgICBsZXQgdG9kb3NCZWZvcmVEZWxldGUgPSB5YWFkLnlhYWQ7XG4gICAgICBsZXQgaW5kZXggPSAtMTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9kb3NCZWZvcmVEZWxldGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRvZG9zQmVmb3JlRGVsZXRlW2ldLmlkID09PSBpZCkge1xuICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdG9kb3NCZWZvcmVEZWxldGUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHsgeWFhZDogdG9kb3NCZWZvcmVEZWxldGUgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVG9kbyBEZWxldGVkXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRvZG9JdGVtQ29udGFpbmVyLmFwcGVuZChpdGVtKS5hcHBlbmQoZGVsZXRlQnV0dG9uKTtcbiAgcmV0dXJuIHRvZG9JdGVtQ29udGFpbmVyO1xufVxuLy8vLy8vLy8vLyA9PT09PT09PT09PT09PT09PT09PT09PT0gRW5kID09PT09PT09PT09PT09PT09PT09PT0vLy8vL1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgJChcIi50b2RvLWlucHV0XCIpLmZvY3VzKCk7XG4gICQoXCIuY2xlYXItZG9uZS1idXR0b25cIikub24oXCJjbGlja1wiLCBjbGVhckRvbmUpO1xuICAvLyBHZXQgc2F2ZWQgdG9kb3NcbiAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoXCJ5YWFkXCIsIGZ1bmN0aW9uKHlhYWQpIHtcbiAgICBsZXQgdG9kb0NvbnRhaW5lciA9ICQoXCIuY29udGFpbmVyXCIpO1xuICAgIGxldCBzYXZlZFRvZG9zID0geWFhZC55YWFkO1xuICAgIGlmIChzYXZlZFRvZG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNhdmVkVG9kb3MgPSBbXTtcbiAgICB9XG4gICAgc2F2ZWRUb2Rvcy5mb3JFYWNoKGZ1bmN0aW9uKHRvZG8pIHtcbiAgICAgIGxldCB0b2RvUm93ID0gY3JlYXRlVG9Eb1Jvdyh0b2RvKTtcbiAgICAgIHRvZG9Db250YWluZXIuYXBwZW5kKHRvZG9Sb3cpO1xuICAgIH0pO1xuICB9KTtcblxuICAkKFwiLnRvZG8tZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgdG9kb1RleHQgPSAkKFwiLnRvZG8taW5wdXRcIikudmFsKCk7XG4gICAgaWYgKHRvZG9UZXh0LnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdG9kbyA9IHtcbiAgICAgIGlkOiB1dWlkKCksXG4gICAgICBkYXRhOiB0b2RvVGV4dCxcbiAgICAgIGNvbXBsZXRlZDogZmFsc2VcbiAgICB9O1xuICAgIGxldCB0b2RvUm93ID0gY3JlYXRlVG9Eb1Jvdyh0b2RvKTtcbiAgICAkKFwiLmNvbnRhaW5lclwiKS5hcHBlbmQodG9kb1Jvdyk7XG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoXCJ5YWFkXCIsIGZ1bmN0aW9uKHlhYWQpIHtcbiAgICAgIGxldCB0b2Rvc1dpdGhOZXdPbmUgPSB5YWFkLnlhYWQ7XG4gICAgICBpZiAodG9kb3NXaXRoTmV3T25lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdG9kb3NXaXRoTmV3T25lID0gW107XG4gICAgICB9XG4gICAgICB0b2Rvc1dpdGhOZXdPbmUucHVzaCh0b2RvKTtcbiAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHsgeWFhZDogdG9kb3NXaXRoTmV3T25lIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRvZG8gc2F2ZWRcIik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICAkKFwiLnRvZG8taW5wdXRcIikudmFsKFwiXCIpO1xuICB9KTtcbn0pO1xuXG4vLyBXcml0ZSBhbGwgeW91ciBjb2RlIGFib3ZlIHRoaXMgbGluZS4gVGhpcyB3aWxsIHJlbG9hZCBwb3B1cCBqcyBwYWdlIGluIGRldmVsb3BlciB0b29scyAtPiBzb3VyY2VzIHdoZW4geW91IHJlbG9hZCBleHRlbnNpb24gZnJvbSBjaHJvbWU6Ly9leHRlbnNpb25zLlxuLy8gVG8gYXZvaWQgZXhlY3V0aW5nIGxvY2F0aW9uLnJlbG9hZCh0cnVlKSBpbiBJbnNwZWN0IGNvbnNvbGUgdG8gbWFrZSBwb3B1cC5qcyBhcHBlYXIgaW4gZGV2ZWxvcGVyIHRvb2xzIHNvdXJjZXNcbmxldCByZWxvYWQgPSAoZnVuY3Rpb24oKSB7XG4gIGxldCBleGVjdXRlZEFscmVhZHkgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmICghZXhlY3V0ZWRBbHJlYWR5KSB7XG4gICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgICBleGVjdXRlZEFscmVhZHkgPSB0cnVlO1xuICAgIH1cbiAgfTtcbn0pKCk7XG4iXSwiZmlsZSI6InBvcHVwLmpzIn0=
